{"version":3,"sources":["Components/Api/services.js","helpers.js","Components/MovieDetailsPage/MoviesDetailsPage.module.css","Components/MovieDetailsPage/MovieDetailsPageItem.js","Components/MovieDetailsPage/ButtonDetails.js","Components/MovieDetailsPage/MovieDetailsPage.js"],"names":["Url","key","popularFilms","axios","get","searchInfo","id","searchMovie","query","Cast","Reviews","ImageSrc","module","exports","MovieDetailsPage","searchFilm","className","st","list","list_img","src","poster_path","alt","width","list_item","original_title","release_date","vote_average","overview","genres","reduce","acc","el","name","ButtonDetails","onClick","type","asyncCast","lazy","asyncReviews","state","onBackButton","props","history","location","push","from","routes","HOME","movieId","this","match","params","API","then","responce","setState","data","url","MovieDetailsPageItem","list_details","to","list_details_item","fallback","exact","path","MOVIE_CAST","component","MOVIE_REVIEWS","Component"],"mappings":"yIAAA,+LAKMA,EAAM,+BACNC,EAAM,mCAECC,EAAe,kBAC1BC,IAAMC,IAAN,UAAaJ,EAAb,wCAAgDC,KAErCI,EAAa,SAACC,GAAD,OACxBH,IAAMC,IAAN,UAAaJ,EAAb,kBAA0BM,EAA1B,oBAAwCL,KAE7BM,EAAc,eAACC,EAAD,uDAAS,SAAT,OACzBL,IAAMC,IAAN,UACKJ,EADL,iCACiCC,EADjC,4DACwFO,KAG7EC,EAAO,SAACH,GAAD,OAClBH,IAAMC,IAAN,UAAaJ,EAAb,kBAA0BM,EAA1B,4BAAgDL,KAErCS,EAAU,SAACJ,GAAD,OACrBH,IAAMC,IAAN,UAAaJ,EAAb,kBAA0BM,EAA1B,4BAAgDL,M,gCCnBnCU,IAFE,SAACH,GAAD,OAAWA,GAFhB,kCAE+BA,I,mBCD3CI,EAAOC,QAAU,CAAC,KAAO,gCAAgC,UAAY,qCAAqC,SAAW,oCAAoC,aAAe,wCAAwC,kBAAoB,+C,yLCqBrNC,EAlBU,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAC1B,OACE,yBAAKC,UAAWC,IAAGC,MACjB,yBAAKF,UAAWC,IAAGE,SAAUC,IAAKT,YAASI,EAAWM,aAAcC,IAAI,GAAGC,MAAM,QACjF,yBAAKP,UAAWC,IAAGO,WACjB,4BACGT,EAAWU,eADd,IAC+BV,EAAWW,cAE1C,0CAA0C,GAA1BX,EAAWY,aAA3B,KACA,wCACA,2BAAIZ,EAAWa,UACf,sCACCb,EAAWc,OAAOC,QAAO,SAACC,EAAKC,GAAN,gBAAgBD,EAAhB,YAAuBC,EAAGC,QAAQ,OCJrDC,EAVO,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACvB,OACE,oCACE,4BAAQA,QAASA,EAASC,KAAK,UAA/B,aCKAC,EAAYC,gBAAK,kBACrB,gCAGIC,EAAeD,gBAAK,kBACxB,gCAGmBxB,E,4MACnB0B,MAAQ,CAAEzB,WAAY,CAAEc,OAAQ,K,EAUhCY,aAAe,WAAO,IAAD,EACW,EAAKC,MAA3BC,EADW,EACXA,QACAH,EAFW,EACFI,SACTJ,MAEJA,EACF,EAAKE,MAAMC,QAAQE,KAAKL,EAAMM,MAM9BH,EAAQE,KAAKE,IAAOC,O,kEAnBH,IAAD,OAEVC,EADUC,KAAKR,MAAfS,MACkBC,OAAlBH,QACRI,IAAeJ,GAASK,MAAK,SAACC,GAC5B,EAAKC,SAAS,CAAEzC,WAAYwC,EAASE,Y,+BAmB/B,IACA1C,EAAemC,KAAKV,MAApBzB,WAEA2C,EADUR,KAAKR,MAAfS,MACAO,IAER,OACE,6BACE,kBAAC,EAAD,CAAevB,QAASe,KAAKT,eAE7B,kBAACkB,EAAD,CAAsB5C,WAAYA,IAClC,wBAAIC,UAAWC,IAAG2C,cAChB,4BACE,kBAAC,IAAD,CAASC,GAAE,UAAKH,EAAL,UAAX,SAEF,wBAAI1C,UAAWC,IAAG6C,mBAChB,kBAAC,IAAD,CAASD,GAAE,UAAKH,EAAL,aAAX,aAGJ,kBAAC,WAAD,CAAUK,SAAU,2CAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAMlB,IAAOmB,WAAYC,UAAW9B,IACjD,kBAAC,IAAD,CAAO2B,OAAK,EAACC,KAAMlB,IAAOqB,cAAeD,UAAW5B,W,GA/ClB8B","file":"static/js/MovieDetailsPage.8d6c45fe.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n// 29385a5ed2e1b13daa9aab11c1c0dd4d\r\n// https://api.themoviedb.org/3/movie/550?api_key=29385a5ed2e1b13daa9aab11c1c0dd4d\r\n\r\nconst Url = \"https://api.themoviedb.org/3\";\r\nconst key = \"29385a5ed2e1b13daa9aab11c1c0dd4d\";\r\n\r\nexport const popularFilms = () =>\r\n  axios.get(`${Url}/trending/movie/week?api_key=${key}`);\r\n\r\nexport const searchInfo = (id) =>\r\n  axios.get(`${Url}/movie/${id}?api_key=${key}`);\r\n\r\nexport const searchMovie = (query = \"batman\") =>\r\n  axios.get(\r\n    `${Url}/search/movie?api_key=${key}&language=en-US&page=1&include_adult=false&query=${query}`\r\n  );\r\n\r\nexport const Cast = (id) =>\r\n  axios.get(`${Url}/movie/${id}/credits?api_key=${key}`);\r\n\r\nexport const Reviews = (id) =>\r\n  axios.get(`${Url}/movie/${id}/reviews?api_key=${key}`);\r\n","const URL = \"https://image.tmdb.org/t/p/w400\";\r\n\r\nconst ImageSrc = (query) => query && URL + query;\r\n\r\nexport default ImageSrc;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"MoviesDetailsPage_list__6YrZI\",\"list_item\":\"MoviesDetailsPage_list_item__3-PmS\",\"list_img\":\"MoviesDetailsPage_list_img__2CEFs\",\"list_details\":\"MoviesDetailsPage_list_details__wAMlj\",\"list_details_item\":\"MoviesDetailsPage_list_details_item__2l7MN\"};","import React from \"react\";\r\nimport ImageSrc from \"../../helpers\";\r\nimport st from \"./MoviesDetailsPage.module.css\";\r\n\r\nconst MovieDetailsPage = ({ searchFilm }) => {\r\n  return (\r\n    <div className={st.list}>\r\n      <img className={st.list_img} src={ImageSrc(searchFilm.poster_path)} alt=\"\" width=\"250\" />\r\n      <div className={st.list_item}>\r\n        <h2>\r\n          {searchFilm.original_title} {searchFilm.release_date}\r\n        </h2>\r\n        <p>User score: {searchFilm.vote_average * 10}%</p>\r\n        <h2>Overview</h2>\r\n        <p>{searchFilm.overview}</p>\r\n        <h2>Genres</h2>\r\n        {searchFilm.genres.reduce((acc, el) => `${acc} ${el.name}`, \"\")}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieDetailsPage;\r\n","import React from \"react\";\r\n\r\nconst ButtonDetails = ({ onClick }) => {\r\n  return (\r\n    <>\r\n      <button onClick={onClick} type=\"button\">\r\n        Go back\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ButtonDetails;\r\n","import React, { Component, lazy, Suspense } from \"react\";\r\nimport { Route, NavLink, Switch } from \"react-router-dom\";\r\nimport * as API from \"../Api/services\";\r\nimport routes from \"../../routes\";\r\nimport MovieDetailsPageItem from \"./MovieDetailsPageItem\";\r\nimport ButtonDetails from \"./ButtonDetails\";\r\nimport st from \"./MoviesDetailsPage.module.css\";\r\n\r\n//  страница с детальной информацией о кинофильме. //\r\n\r\nconst asyncCast = lazy(() =>\r\n  import(\"../Cast/Cast\" /* webpackChunkName: \"Cast\" */)\r\n);\r\n\r\nconst asyncReviews = lazy(() =>\r\n  import(\"../Reviews/Reviews\" /* webpackChunkName: \"Reviews\" */)\r\n);\r\n\r\nexport default class MovieDetailsPage extends Component {\r\n  state = { searchFilm: { genres: [] } };\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props;\r\n    const { movieId } = match.params;\r\n    API.searchInfo(movieId).then((responce) => {\r\n      this.setState({ searchFilm: responce.data });\r\n    });\r\n  }\r\n\r\n  onBackButton = () => {\r\n    const { history, location } = this.props;\r\n    const { state } = location;\r\n\r\n    if (state) {\r\n      this.props.history.push(state.from);\r\n\r\n      // if (state.from) {\r\n      //   history.push(state.from);\r\n      // }\r\n    } else {\r\n      history.push(routes.HOME);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { searchFilm } = this.state;\r\n    const { match } = this.props;\r\n    const { url } = match;\r\n\r\n    return (\r\n      <div>\r\n        <ButtonDetails onClick={this.onBackButton} />\r\n\r\n        <MovieDetailsPageItem searchFilm={searchFilm} />\r\n        <ul className={st.list_details} >\r\n          <li>\r\n            <NavLink to={`${url}/cast`}>Cast</NavLink>\r\n          </li>\r\n          <li className={st.list_details_item} >\r\n            <NavLink to={`${url}/reviews`}>Reviews</NavLink>\r\n          </li>\r\n        </ul>\r\n        <Suspense fallback={<h1>Loading...</h1>}>\r\n          <Switch>\r\n            <Route exact path={routes.MOVIE_CAST} component={asyncCast} />\r\n            <Route exact path={routes.MOVIE_REVIEWS} component={asyncReviews} />\r\n          </Switch>\r\n        </Suspense>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}